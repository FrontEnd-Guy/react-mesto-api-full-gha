{"ast":null,"code":"import{useContext,useEffect}from\"react\";import{useForm}from\"../hooks/useForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{PopupWithForm}from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onOverlay=_ref.onOverlay,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,buttonText=_ref.buttonText;var currentUser=useContext(CurrentUserContext);var _useForm=useForm({}),values=_useForm.values,handleChange=_useForm.handleChange,setValues=_useForm.setValues;useEffect(function(){setValues({name:currentUser===null||currentUser===void 0?void 0:currentUser.name,about:currentUser===null||currentUser===void 0?void 0:currentUser.about});},[currentUser,isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser(values);}return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"Edit profile\",name:\"edit-profile\",isOpen:isOpen,onOverlay:onOverlay,onClose:onClose,onSubmit:handleSubmit,buttonText:buttonText,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.name||\"\",id:\"name-input\",className:\"popup__input popup__input_field_name\",name:\"name\",placeholder:\"Name\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.about||\"\",id:\"job-input\",className:\"popup__input popup__input_field_job\",name:\"about\",placeholder:\"About\",required:true,minLength:\"2\",maxLength:\"200\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error job-input-error\"})]})]});}","map":{"version":3,"names":["useContext","useEffect","useForm","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onOverlay","onClose","onUpdateUser","buttonText","currentUser","values","handleChange","setValues","name","about","handleSubmit","e","preventDefault"],"sources":["/Users/paul/Praktikum/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { useForm } from \"../hooks/useForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { PopupWithForm } from \"./PopupWithForm\";\n\nexport function EditProfilePopup({\n  isOpen,\n  onOverlay,\n  onClose,\n  onUpdateUser,\n  buttonText,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n  const { values, handleChange, setValues } = useForm({});\n\n  useEffect(() => {\n    setValues({\n      name: currentUser?.name,\n      about: currentUser?.about,\n    });\n  }, [currentUser, isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser(values);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Edit profile\"\n      name=\"edit-profile\"\n      isOpen={isOpen}\n      onOverlay={onOverlay}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText={buttonText}\n    >\n      <label className=\"popup__field\">\n        <input\n          type=\"text\"\n          value={values.name || \"\"}\n          id=\"name-input\"\n          className=\"popup__input popup__input_field_name\"\n          name=\"name\"\n          placeholder=\"Name\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          onChange={handleChange}\n        />\n        <span className=\"popup__input-error name-input-error\"></span>\n      </label>\n      <label className=\"popup__field\">\n        <input\n          type=\"text\"\n          value={values.about || \"\"}\n          id=\"job-input\"\n          className=\"popup__input popup__input_field_job\"\n          name=\"about\"\n          placeholder=\"About\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          onChange={handleChange}\n        />\n        <span className=\"popup__input-error job-input-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n"],"mappings":"AAAA,OAASA,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC7C,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,OAASC,aAAa,KAAQ,iBAAiB,CAAC,wFAEhD,MAAO,SAASC,iBAAgB,MAM7B,IALDC,OAAM,MAANA,MAAM,CACNC,SAAS,MAATA,SAAS,CACTC,OAAO,MAAPA,OAAO,CACPC,YAAY,MAAZA,YAAY,CACZC,UAAU,MAAVA,UAAU,CAEV,GAAMC,YAAW,CAAGX,UAAU,CAACG,kBAAkB,CAAC,CAClD,aAA4CD,OAAO,CAAC,CAAC,CAAC,CAAC,CAA/CU,MAAM,UAANA,MAAM,CAAEC,YAAY,UAAZA,YAAY,CAAEC,SAAS,UAATA,SAAS,CAEvCb,SAAS,CAAC,UAAM,CACda,SAAS,CAAC,CACRC,IAAI,CAAEJ,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEI,IAAI,CACvBC,KAAK,CAAEL,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEK,KACtB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACL,WAAW,CAAEL,MAAM,CAAC,CAAC,CAEzB,QAASW,aAAY,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,EAAE,CAClBV,YAAY,CAACG,MAAM,CAAC,CACtB,CAEA,mBACE,MAAC,aAAa,EACZ,KAAK,CAAC,cAAc,CACpB,IAAI,CAAC,cAAc,CACnB,MAAM,CAAEN,MAAO,CACf,SAAS,CAAEC,SAAU,CACrB,OAAO,CAAEC,OAAQ,CACjB,QAAQ,CAAES,YAAa,CACvB,UAAU,CAAEP,UAAW,wBAEvB,eAAO,SAAS,CAAC,cAAc,wBAC7B,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAEE,MAAM,CAACG,IAAI,EAAI,EAAG,CACzB,EAAE,CAAC,YAAY,CACf,SAAS,CAAC,sCAAsC,CAChD,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,MAAM,CAClB,QAAQ,MACR,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,IAAI,CACd,QAAQ,CAAEF,YAAa,EACvB,cACF,aAAM,SAAS,CAAC,qCAAqC,EAAQ,GACvD,cACR,eAAO,SAAS,CAAC,cAAc,wBAC7B,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAED,MAAM,CAACI,KAAK,EAAI,EAAG,CAC1B,EAAE,CAAC,WAAW,CACd,SAAS,CAAC,qCAAqC,CAC/C,IAAI,CAAC,OAAO,CACZ,WAAW,CAAC,OAAO,CACnB,QAAQ,MACR,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,KAAK,CACf,QAAQ,CAAEH,YAAa,EACvB,cACF,aAAM,SAAS,CAAC,oCAAoC,EAAQ,GACtD,GACM,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}