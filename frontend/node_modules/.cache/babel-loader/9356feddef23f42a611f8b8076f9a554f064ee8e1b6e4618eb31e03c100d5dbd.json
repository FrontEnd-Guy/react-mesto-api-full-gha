{"ast":null,"code":"import _slicedToArray from\"/Users/paul/Praktikum/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Card from\"./Card\";import{api}from\"../utils/API\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onOpenCard=_ref.onOpenCard;var _useState=useState({userName:'',userDescription:'',userAvatar:''}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cards=_useState4[0],setCards=_useState4[1];useEffect(function(){api.getCardsList().then(function(cards){return setCards(cards);}).catch(function(err){console.log(err);});},[]);useEffect(function(){api.getUserInfo().then(function(data){return setUserInfo({userName:data.name,userDescription:data.about,userAvatar:data.avatar});}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:userInfo.userAvatar,alt:\"\\u0410\\u0432\\u0442\\u0430\\u0440\\u0430\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",className:\"profile__avatar\"}),/*#__PURE__*/_jsx(\"button\",{\"area-label\":\"Edit Profile Picture\",className:\"profile__avatar-edit-button\",type:\"button\",onClick:onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__profile-info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userInfo.userName}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__job\",children:userInfo.userDescription}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Edit Profile Info\",className:\"profile__edit-button\",type:\"button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Add Card\",className:\"profile__add-button\",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:function onCardClick(card){return onOpenCard(card);}},card._id);})})]});}export default Main;","map":{"version":3,"names":["useEffect","useState","Card","api","Main","onEditProfile","onAddPlace","onEditAvatar","onOpenCard","userName","userDescription","userAvatar","userInfo","setUserInfo","cards","setCards","getCardsList","then","catch","err","console","log","getUserInfo","data","name","about","avatar","map","card","_id"],"sources":["/Users/paul/Praktikum/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport Card from \"./Card\";\nimport { api } from \"../utils/API\";\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onOpenCard}) {\n    const [userInfo, setUserInfo] = useState({userName: '', userDescription: '', userAvatar: ''})\n    const [cards, setCards] = useState([])\n\n    useEffect(()=>{\n        api.getCardsList()\n        .then((cards) => setCards(cards))\n        .catch((err) =>{\n          console.log(err);\n        })\n    },[])    \n\n    useEffect(()=>{\n        api.getUserInfo()\n        .then((data) => setUserInfo(\n            {userName: data.name,\n            userDescription: data.about,\n            userAvatar: data.avatar}))\n        .catch((err) =>{\n            console.log(err);\n          })\n    },[])\n\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img src={userInfo.userAvatar} alt=\"Автарака пользователя\" className=\"profile__avatar\" />\n                    <button area-label='Edit Profile Picture' className=\"profile__avatar-edit-button\" type=\"button\" onClick={onEditAvatar}></button>\n                </div>\n                <div className=\"profile__profile-info\">\n                    <h1 className=\"profile__name\">{userInfo.userName}</h1>\n                    <p className=\"profile__job\">{userInfo.userDescription}</p>\n                    <button aria-label='Edit Profile Info' className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n                </div>\n                <button aria-label='Add Card' className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n            </section>\n            <section className=\"elements\">\n                {\n                    cards.map((card) => {\n                        return (<Card \n                                    key={card._id} \n                                    card={card} \n                                    onCardClick={(card) => onOpenCard(card)}/>)    \n                    })\n                }\n            </section>\n        </main>\n    )\n}\n\nexport default Main"],"mappings":"2HAAA,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,MAAOC,KAAI,KAAM,QAAQ,CACzB,OAASC,GAAG,KAAQ,cAAc,CAAC,wFAEnC,QAASC,KAAI,MAAwD,IAAtDC,cAAa,MAAbA,aAAa,CAAEC,UAAU,MAAVA,UAAU,CAAEC,YAAY,MAAZA,YAAY,CAAEC,UAAU,MAAVA,UAAU,CAC9D,cAAgCP,QAAQ,CAAC,CAACQ,QAAQ,CAAE,EAAE,CAAEC,eAAe,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAC,CAAC,wCAAtFC,QAAQ,eAAEC,WAAW,eAC5B,eAA0BZ,QAAQ,CAAC,EAAE,CAAC,yCAA/Ba,KAAK,eAAEC,QAAQ,eAEtBf,SAAS,CAAC,UAAI,CACVG,GAAG,CAACa,YAAY,EAAE,CACjBC,IAAI,CAAC,SAACH,KAAK,QAAKC,SAAQ,CAACD,KAAK,CAAC,GAAC,CAChCI,KAAK,CAAC,SAACC,GAAG,CAAI,CACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAAC,EAAE,CAAC,CAELnB,SAAS,CAAC,UAAI,CACVG,GAAG,CAACmB,WAAW,EAAE,CAChBL,IAAI,CAAC,SAACM,IAAI,QAAKV,YAAW,CACvB,CAACJ,QAAQ,CAAEc,IAAI,CAACC,IAAI,CACpBd,eAAe,CAAEa,IAAI,CAACE,KAAK,CAC3Bd,UAAU,CAAEY,IAAI,CAACG,MAAM,CAAC,CAAC,GAAC,CAC7BR,KAAK,CAAC,SAACC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACR,CAAC,CAAC,EAAE,CAAC,CAGL,mBACI,cAAM,SAAS,CAAC,SAAS,wBACrB,iBAAS,SAAS,CAAC,SAAS,wBACxB,aAAK,SAAS,CAAC,2BAA2B,wBACtC,YAAK,GAAG,CAAEP,QAAQ,CAACD,UAAW,CAAC,GAAG,CAAC,2HAAuB,CAAC,SAAS,CAAC,iBAAiB,EAAG,cACzF,eAAQ,aAAW,sBAAsB,CAAC,SAAS,CAAC,6BAA6B,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAEJ,YAAa,EAAU,GAC9H,cACN,aAAK,SAAS,CAAC,uBAAuB,wBAClC,WAAI,SAAS,CAAC,eAAe,UAAEK,QAAQ,CAACH,QAAQ,EAAM,cACtD,UAAG,SAAS,CAAC,cAAc,UAAEG,QAAQ,CAACF,eAAe,EAAK,cAC1D,eAAQ,aAAW,mBAAmB,CAAC,SAAS,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAEL,aAAc,EAAU,GACrH,cACN,eAAQ,aAAW,UAAU,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAEC,UAAW,EAAU,GACpG,cACV,gBAAS,SAAS,CAAC,UAAU,UAErBQ,KAAK,CAACa,GAAG,CAAC,SAACC,IAAI,CAAK,CAChB,mBAAQ,KAAC,IAAI,EAED,IAAI,CAAEA,IAAK,CACX,WAAW,CAAE,qBAACA,IAAI,QAAKpB,WAAU,CAACoB,IAAI,CAAC,EAAC,EAFnCA,IAAI,CAACC,GAAG,CAE6B,CAC1D,CAAC,CAAC,EAEA,GACP,CAEf,CAEA,cAAezB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}