{"ast":null,"code":"import{useContext,useEffect}from\"react\";import{useForm}from\"../hooks/useForm\";import{CurrentUserContext}from'../contexts/CurrentUserContext';import{PopupWithForm}from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onOverlay=_ref.onOverlay,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,buttonText=_ref.buttonText;var currentUser=useContext(CurrentUserContext);var _useForm=useForm({}),values=_useForm.values,handleChange=_useForm.handleChange,setValues=_useForm.setValues;useEffect(function(){setValues({name:currentUser===null||currentUser===void 0?void 0:currentUser.name,about:currentUser===null||currentUser===void 0?void 0:currentUser.about});},[currentUser,isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser(values);};return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"Edit profile\",name:\"edit-profile\",isOpen:isOpen,onOverlay:onOverlay,onClose:onClose,onSubmit:handleSubmit,buttonText:buttonText,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.name||'',id:\"name-input\",className:\"popup__input popup__input_field_name\",name:\"name\",placeholder:\"Name\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.about||'',id:\"job-input\",className:\"popup__input popup__input_field_job\",name:\"about\",placeholder:\"About\",required:true,minLength:\"2\",maxLength:\"200\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error job-input-error\"})]})]});}","map":{"version":3,"names":["useContext","useEffect","useForm","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onOverlay","onClose","onUpdateUser","buttonText","currentUser","values","handleChange","setValues","name","about","handleSubmit","e","preventDefault"],"sources":["/Users/paul/Praktikum/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { useForm } from \"../hooks/useForm\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport {PopupWithForm} from \"./PopupWithForm\";\n\nexport function EditProfilePopup({isOpen, onOverlay, onClose, onUpdateUser, buttonText}){\n    const currentUser = useContext(CurrentUserContext);\n    const {values, handleChange, setValues} = useForm({});\n\n    useEffect(() => {\n        setValues({\n            name: currentUser?.name,\n            about: currentUser?.about\n        });\n      }, [currentUser, isOpen]); \n\n    function handleSubmit(e){\n        e.preventDefault();\n        onUpdateUser(values);\n    };\n\n    return(\n        <PopupWithForm \n          title = 'Edit profile' \n          name = 'edit-profile' \n          isOpen = {isOpen}\n          onOverlay = {onOverlay} \n          onClose = {onClose}\n          onSubmit = {handleSubmit}\n          buttonText={buttonText}>\n            <label className=\"popup__field\" >\n                <input type=\"text\" value={values.name || ''} id=\"name-input\" className=\"popup__input popup__input_field_name\" \n                    name=\"name\" placeholder=\"Name\" required minLength=\"2\" maxLength=\"40\" onChange={handleChange}/>\n                <span className=\"popup__input-error name-input-error\"></span>\n            </label>\n            <label className=\"popup__field\">\n                <input type=\"text\" value={values.about || ''} id=\"job-input\" className=\"popup__input popup__input_field_job\" \n                    name=\"about\" placeholder=\"About\" required minLength=\"2\" maxLength=\"200\" onChange={handleChange}/>\n                <span className=\"popup__input-error job-input-error\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}"],"mappings":"AAAA,OAASA,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC7C,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,OAAQC,kBAAkB,KAAO,gCAAgC,CACjE,OAAQC,aAAa,KAAO,iBAAiB,CAAC,wFAE9C,MAAO,SAASC,iBAAgB,MAAwD,IAAtDC,OAAM,MAANA,MAAM,CAAEC,SAAS,MAATA,SAAS,CAAEC,OAAO,MAAPA,OAAO,CAAEC,YAAY,MAAZA,YAAY,CAAEC,UAAU,MAAVA,UAAU,CAClF,GAAMC,YAAW,CAAGX,UAAU,CAACG,kBAAkB,CAAC,CAClD,aAA0CD,OAAO,CAAC,CAAC,CAAC,CAAC,CAA9CU,MAAM,UAANA,MAAM,CAAEC,YAAY,UAAZA,YAAY,CAAEC,SAAS,UAATA,SAAS,CAEtCb,SAAS,CAAC,UAAM,CACZa,SAAS,CAAC,CACNC,IAAI,CAAEJ,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEI,IAAI,CACvBC,KAAK,CAAEL,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEK,KACxB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACL,WAAW,CAAEL,MAAM,CAAC,CAAC,CAE3B,QAASW,aAAY,CAACC,CAAC,CAAC,CACpBA,CAAC,CAACC,cAAc,EAAE,CAClBV,YAAY,CAACG,MAAM,CAAC,CACxB,CAAC,CAED,mBACI,MAAC,aAAa,EACZ,KAAK,CAAG,cAAc,CACtB,IAAI,CAAG,cAAc,CACrB,MAAM,CAAIN,MAAO,CACjB,SAAS,CAAIC,SAAU,CACvB,OAAO,CAAIC,OAAQ,CACnB,QAAQ,CAAIS,YAAa,CACzB,UAAU,CAAEP,UAAW,wBACrB,eAAO,SAAS,CAAC,cAAc,wBAC3B,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEE,MAAM,CAACG,IAAI,EAAI,EAAG,CAAC,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,sCAAsC,CACzG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,MAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAEF,YAAa,EAAE,cAClG,aAAM,SAAS,CAAC,qCAAqC,EAAQ,GACzD,cACR,eAAO,SAAS,CAAC,cAAc,wBAC3B,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAED,MAAM,CAACI,KAAK,EAAI,EAAG,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,qCAAqC,CACxG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,MAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAEH,YAAa,EAAE,cACrG,aAAM,SAAS,CAAC,oCAAoC,EAAQ,GACxD,GACI,CAExB"},"metadata":{},"sourceType":"module","externalDependencies":[]}