{"ast":null,"code":"import _slicedToArray from\"/Users/paul/Praktikum/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from\"react\";import{CurrentUserContext}from'../contexts/CurrentUserContext';import{PopupWithForm}from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){setName(currentUser===null||currentUser===void 0?void 0:currentUser.name);setDescription(currentUser===null||currentUser===void 0?void 0:currentUser.about);},[currentUser]);function handleNameChange(e){setName(e.target.value);};function handleDescriptionChange(e){setDescription(e.target.value);};function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});};return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"edit-profile\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,id:\"name-input\",className:\"popup__input popup__input_field_name\",name:\"edit-name\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,id:\"job-input\",className:\"popup__input popup__input_field_job\",name:\"edit-job\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,minLength:\"2\",maxLength:\"200\",onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error job-input-error\"})]})]});}","map":{"version":3,"names":["useState","useContext","useEffect","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","name","setName","description","setDescription","about","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault"],"sources":["/Users/paul/Praktikum/dev/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport {PopupWithForm} from \"./PopupWithForm\";\n\nexport function EditProfilePopup({isOpen, onClose, onUpdateUser}){\n    const currentUser = useContext(CurrentUserContext);\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    useEffect(() => {\n        setName(currentUser?.name);\n        setDescription(currentUser?.about);\n      }, [currentUser]); \n\n    function handleNameChange(e){\n        setName(e.target.value);\n    };\n\n    function handleDescriptionChange(e){\n        setDescription(e.target.value);\n    };\n\n    function handleSubmit(e){\n        e.preventDefault();\n        onUpdateUser({\n          name: name,\n          about: description,\n        });\n    };\n\n    return(\n        <PopupWithForm \n          title = 'Редактировать профиль' \n          name = 'edit-profile' \n          isOpen = {isOpen} \n          onClose = {onClose}\n          onSubmit = {handleSubmit}\n          buttonText = 'Сохранить'>\n            <label className=\"popup__field\" >\n                <input type=\"text\" value={name} id=\"name-input\" className=\"popup__input popup__input_field_name\" \n                    name=\"edit-name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange}/>\n                <span className=\"popup__input-error name-input-error\"></span>\n            </label>\n            <label className=\"popup__field\">\n                <input type=\"text\" value={description} id=\"job-input\" className=\"popup__input popup__input_field_job\" \n                    name=\"edit-job\" placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange}/>\n                <span className=\"popup__input-error job-input-error\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}"],"mappings":"2HAAA,OAASA,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACvD,OAAQC,kBAAkB,KAAO,gCAAgC,CACjE,OAAQC,aAAa,KAAO,iBAAiB,CAAC,wFAE9C,MAAO,SAASC,iBAAgB,MAAiC,IAA/BC,OAAM,MAANA,MAAM,CAAEC,OAAO,MAAPA,OAAO,CAAEC,YAAY,MAAZA,YAAY,CAC3D,GAAMC,YAAW,CAAGR,UAAU,CAACE,kBAAkB,CAAC,CAClD,cAAwBH,QAAQ,CAAC,EAAE,CAAC,wCAA7BU,IAAI,eAAEC,OAAO,eACpB,eAAsCX,QAAQ,CAAC,EAAE,CAAC,yCAA3CY,WAAW,eAAEC,cAAc,eAElCX,SAAS,CAAC,UAAM,CACZS,OAAO,CAACF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEC,IAAI,CAAC,CAC1BG,cAAc,CAACJ,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEK,KAAK,CAAC,CACpC,CAAC,CAAE,CAACL,WAAW,CAAC,CAAC,CAEnB,QAASM,iBAAgB,CAACC,CAAC,CAAC,CACxBL,OAAO,CAACK,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAAC,CAED,QAASC,wBAAuB,CAACH,CAAC,CAAC,CAC/BH,cAAc,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CAAC,CAED,QAASE,aAAY,CAACJ,CAAC,CAAC,CACpBA,CAAC,CAACK,cAAc,EAAE,CAClBb,YAAY,CAAC,CACXE,IAAI,CAAEA,IAAI,CACVI,KAAK,CAAEF,WACT,CAAC,CAAC,CACN,CAAC,CAED,mBACI,MAAC,aAAa,EACZ,KAAK,CAAG,2HAAuB,CAC/B,IAAI,CAAG,cAAc,CACrB,MAAM,CAAIN,MAAO,CACjB,OAAO,CAAIC,OAAQ,CACnB,QAAQ,CAAIa,YAAa,CACzB,UAAU,CAAG,wDAAW,wBACtB,eAAO,SAAS,CAAC,cAAc,wBAC3B,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEV,IAAK,CAAC,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,sCAAsC,CAC5F,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,oBAAK,CAAC,QAAQ,MAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAEK,gBAAiB,EAAE,cAC1G,aAAM,SAAS,CAAC,qCAAqC,EAAQ,GACzD,cACR,eAAO,SAAS,CAAC,cAAc,wBAC3B,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEH,WAAY,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,qCAAqC,CACjG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,iCAAQ,CAAC,QAAQ,MAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAEO,uBAAwB,EAAE,cACpH,aAAM,SAAS,CAAC,oCAAoC,EAAQ,GACxD,GACI,CAExB"},"metadata":{},"sourceType":"module","externalDependencies":[]}